Create a Track JSON object that matches the provided Track schema exactly.

You are generating choreography for an indoor cycling track using an RPM / Les Mills–style approach,
but the choreography MUST be returned in the Track.choreography array defined in the schema.

IMPORTANT: 
- Choreography is a sequence of point-in-time change cues, NOT long descriptions.
- Each choreography item represents a CHANGE (exercise, resistance, or pace), not narration.

────────────
CHOREOGRAPHY OUTPUT RULES (HARD)
────────────

1. The choreography field MUST be an array of objects with the following keys only:
   - timestamp (string, M:SS)
   - move (string)
   - duration_seconds (number)
   - notes (string)
   - type (string)

2. Every timestamp MUST:
   - Match one of the allowed block starts
   - Land on a musical downbeat
   - Be within the track duration

3. Do NOT include prep or setup items.
   If a pre-cue is needed, include it briefly in the notes field of the NEXT item.

────────────
RPM-STYLE CONTENT MODEL (MAP INTO JSON)
────────────

Use RPM-style thinking, but encode it into the JSON fields like this:

• move  
  → Short exercise label + resistance instruction + target RPM  
  Examples:
  - "Climb ↑ (6) @ 60–70 RPM"
  - "Flat • (7) @ 80–90 RPM"
  - "Sprint ↑↑ (8) @ 95–105 RPM"

• Resistance rules (MANDATORY format inside move):
  ↑  = small increase (+1)
  ↑↑ = large increase (+2)
  ↓  = small decrease (−1)
  ↓↓ = large decrease (−2)
  •  = hold
  Lx = absolute gear

  ALWAYS show the resulting gear in brackets, e.g. ↑ (6)

• duration_seconds  
  → How long this block is held until the next choreography timestamp

• notes  
  → Optional, max one short coaching sentence
  → May include position (saddle / standing) if relevant

• type  
  → One of: "flat", "climb", "sprint", "interval", "recovery", "hold"

────────────
STRUCTURE & COUNT
────────────

- 2:30–3:00 → 5–6 choreography items
- 3:00–4:00 → 6–8 choreography items
- 4:00–5:00 → 7–9 choreography items
- Prefer fewer items during very intense sections
- Use "hold" style blocks when music repeats instead of inventing changes

────────────
SAFETY & STYLE
────────────

- Pace must be expressed as RPM ranges
- No standing above 110 RPM
- Prioritize musical phrasing, clarity, and instructor readability
- This should read like a professional RPM choreography sheet

────────────
INPUTS AVAILABLE
────────────

Rider settings:
$rider_settings

Allowed choreography timestamps:
$allowed_block_starts

Music map:
$music_map

────────────
FINAL OUTPUT
────────────

Return ONLY the Track JSON object.
No markdown.
No commentary.
No extra keys.
